# 사용 방법

## 순서
0. tmux 실행
1. slam 실행 + 글로벌 track 생성
2. csv 설정 + 컴파일
3. base system 실행
4. mppi 실행
5. 조이스틱 버튼 조작

### tmux
```bash
tmux
```
이걸 통해 터미널을 여러개 띄울 수 있다. 

### slam 실행 + 글로벌 track 생성
```bash
# 터미널 0
roscore
```

```bash
# 터미널 1
launch_slam <맵 이름>
```
이걸 실행하고 한바퀴쯤 돌면 맵이 괜찮게 생성되었으면 y를 누르라는 메시지가 뜬다.  
그럼 적당히 시작점 주변에 다시 돌아와서 세운 후 y를 누르면 맵을 확인하는 창이 뜬다.   
이걸 확인하고 맵이 괜찮으면 창을 닫고 기다린다. (만약 맵이 이상하다면 ctrl+c 후 다시 실행한다.)   
조금 기다리다보면 trajectory가 생성되며 창이 뜬다. 거기에 확인 버튼을 누르고 다시 기다린다.  
이후에 또 다른 trajectory가 생성되며 창이 뜬다. 이걸 확인하고 확인 버튼을 누르면 끝. 
터미널을 보면 메시지가 뜨다가 멈춰있을 것이다. 이때 그냥 ctrl+c 로 프로세스를 종료하면 된다.  


### csv 설정 + 컴파일
```bash
# 터미널 1. 주의: launch_slam을 실행하지 않은 다른 터미널에서 하면 안됨
set_global_csv
```
생성된 csv 파일이 필요한 파일명으로 편집되어 적절한 위치로 이동된다.  
이 이후 컴파일을 진행한다. 명령어는 다음과 같다. 이때 주의할 점은 터미널 0에서 roscore를 꺼놓고 실행해야 한다는 것이다.
```bash
# 터미널 1
cmi
```

### base system 실행
```bash
# 터미널 0
roscore
```

```bash
# 터미널 1
launch_base_system
```


>만약 맵 이름이 없다는 오류가 뜬다면 터미널 1에서 다음 명령어를 실행하고 다시 실행한다.
>```bash
># 터미널 1
>set_map_name <맵 이름>
>```
>또는 뒤에 맵 이름을 넣어서 실행한다.
>```bash
># 터미널 1
>launch_base_system <맵 이름>
>```
> 오케이?

### mppi 실행
```bash
# 터미널 2
launch_mppi
```

### 조이스틱 버튼 조작

일단 생략 나중에 추가.
